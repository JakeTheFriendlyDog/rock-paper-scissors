<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Dwayne "The Rock"</title>
    <script>
        //variables
        const choices = ['rock', 'paper', 'scissors'];
        let playersChoice;
        let computersChoice;
        let playersScore;
        let computersScore;

        //initiate the game
        game();


        function game() {
            //reset the game first
            resetGame();
            //play till score of 5
            while(computersScore !== 5 && playersScore !== 5){
                playersChoice = prompt("Rock, paper or scissors?").toLowerCase();
                computersChoice = computerPlay();
                playRound(playersChoice, computersChoice);
            }
            //show the final score
            let result = (computersScore > playersScore) ? "You have lost!" : "You have won!";
            console.info(result + " The final score is: Computer - " + computersScore + ", You - " + playersScore);
        }


        function playRound(playersChoice, computersChoice){
            if(playersChoice == "rock"){
                switch(computersChoice){
                    case "rock":
                    console.log("It's a draw!");
                    break;
                    case "paper":
                    console.log("Paper beats Rock. You lose!");
                    computersScore++;
                    break;
                    case "scissors":
                    console.log("Rock beats Scissors. You win!");
                    playersScore++;
                    break;
                    default:
                    console.info("Something went wrong! 1");
                } 
            }
            else if(playersChoice == "paper") {
                switch(computersChoice){
                    case "rock":
                    console.log("Paper beats Rock. You win!");
                    playersScore++;
                    break;
                    case "paper":
                    console.log("It's a draw!");
                    break;
                    case "scissors":
                    console.log("Scissors beat Paper. You lose!");
                    computersScore++;
                    break;
                    default:
                    console.info("Something went wrong! 2")     
                }
            }
            else {
                switch(computersChoice){
                    case "rock":
                    console.log("Rock beats Scissors. You lose!");
                    computersScore++;
                    break;
                    case "paper":
                    console.log("Scissors beat Paper. You win!");
                    playersScore++;
                    break;
                    case "scissors":
                    console.log("It's a draw!");
                    break;
                    default:
                    console.info("Something went wrong! 3")   
                }
            }
        }


        function computerPlay(){
            return choices[Math.floor(choices.length * Math.random())];
        }


        function resetGame() {
            //reset the scores
            playersScore = 0;
            computersScore = 0;
        }
    </script>
</head>
<body>
    <p>Dwayne "The Rock" Johnson is always a winner!</p>
</body>
</html>